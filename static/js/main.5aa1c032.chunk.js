(this["webpackJsonpreact-01"]=this["webpackJsonpreact-01"]||[]).push([[0],{103:function(e,t,r){e.exports={item:"Post_item__2EmvQ",textWrapper:"Post_textWrapper__1jnES",buttonWrapper:"Post_buttonWrapper__2L7mk",buttonText:"Post_buttonText__3d3zV"}},104:function(e,t,r){e.exports={postsRoot:"Posts_postsRoot__2xzTc",addPostWrapper:"Posts_addPostWrapper__3_Wq-",postsWrapper:"Posts_postsWrapper__2V9lY"}},121:function(e,t,r){e.exports={content:"Messages_content__1TCv4"}},141:function(e,t,r){e.exports={error:"Login_error__17Wu6",form:"Login_form__2mvFD",inputWrapper:"Login_inputWrapper__32RKZ",captionLogin:"Login_captionLogin___3zFV"}},145:function(e,t,r){e.exports={customTextarea:"FormsControls_customTextarea__SPgbw",error:"FormsControls_error__9lcue"}},193:function(e,t,r){e.exports={item:"Dialog_item__tN3QM"}},194:function(e,t,r){e.exports={item:"Message_item__Vrg2B"}},202:function(e,t,r){e.exports={ldsDualRing:"Preloader_ldsDualRing__Ds8oF"}},244:function(e,t,r){},245:function(e,t,r){},25:function(e,t,r){"use strict";r.d(t,"f",(function(){return b})),r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return f})),r.d(t,"c",(function(){return O})),r.d(t,"e",(function(){return g}));var n=r(6),a=r(64),s=r(1),c=r(65),o=r(91),i=r(208),u=r(209),l=(r(0),r(145)),j=r.n(l),b=function(e){var t=e.input,r=e.meta,o=Object(a.a)(e,["input","meta"]);return Object(s.jsxs)("div",{className:j.a.customTextarea+" "+(r.error&&r.touched?j.a.error:""),children:[Object(s.jsx)("textarea",Object(n.a)(Object(n.a)({},t),o)),r.error&&r.touched&&Object(s.jsx)(c.a,{color:"error",variant:"caption",children:r.error})]})},d=function(e){var t=e.input,r=e.meta;Object(a.a)(e,["input","meta"]);return r.error&&r.touched?Object(s.jsx)(o.a,Object(n.a)(Object(n.a)({},t),{},{error:!0,label:"Error",type:"password",helperText:r.error})):Object(s.jsx)(o.a,Object(n.a)(Object(n.a)({},t),{},{label:"Password",type:"password"}))},p=function(e){var t=e.input,r=e.meta;Object(a.a)(e,["input","meta"]);return r.error&&r.touched?Object(s.jsx)(o.a,Object(n.a)(Object(n.a)({},t),{},{error:!0,label:"Error",type:"text",helperText:r.error})):Object(s.jsx)(o.a,Object(n.a)(Object(n.a)({},t),{},{label:"Email",type:"text"}))},f=function(e){var t=e.input,r=e.meta,c=e.label,i=Object(a.a)(e,["input","meta","label"]);return r.error&&r.touched?Object(s.jsx)(o.a,Object(n.a)(Object(n.a)(Object(n.a)({},t),i),{},{error:!0,label:"Error",helperText:r.error})):Object(s.jsx)(o.a,Object(n.a)(Object(n.a)(Object(n.a)({},t),i),{},{label:c}))},O=function(e){var t=e.input;e.meta,Object(a.a)(e,["input","meta"]);return Object(s.jsx)(i.a,{label:Object(s.jsx)(c.a,{variant:"subtitle1",children:"I agree with rules"}),control:Object(s.jsx)(u.a,Object(n.a)(Object(n.a)({},t),{},{color:"primary"}))})},g=function(e){var t=e.input;e.meta;return Object(s.jsx)(i.a,{label:Object(s.jsx)(c.a,{variant:"subtitle1",children:"Looking for a job?"}),control:Object(s.jsx)(u.a,Object(n.a)(Object(n.a)({},t),{},{color:"primary"}))})}},28:function(e,t,r){"use strict";r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return i}));var n=r(192),a=n.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"460f09c7-f89f-4a29-b472-f16600dc0c8d"}}),s={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return a.post("follow/".concat(e)).then((function(e){return e.data}))},unfollowUser:function(e){return a.delete("follow/".concat(e)).then((function(e){return e.data}))}},c={getProfile:function(e){return a.get("profile/".concat(e)).then((function(e){return e.data}))},getUserStatus:function(e){return a.get("profile/status/".concat(e)).then((function(e){return e.data}))},setUserStatus:function(e){return a.put("profile/status",{status:e}).then((function(e){return e.data}))},sendImage:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},setUserData:function(e){return a.put("profile",e).then((function(e){return e.data}))}},o={authUser:function(){return a.get("auth/me").then((function(e){return e.data}))},loginUser:function(e,t,r,n){return a.post("auth/login",{email:e,password:t,remeberMe:r,captcha:n}).then((function(e){return e.data}))},logoutUser:function(){return a.delete("auth/login").then((function(e){return e.data}))}},i={getCaptcha:function(){return a.get("security/get-captcha-url").then((function(e){return e.data}))}}},34:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=function(e){return e?void 0:"Value is empty"},a=function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"Invalid email address":void 0},s=function(e){return e&&/(^https?:\/\/)?[a-z0-9~_\-\.]+\.[a-z]{2,9}(\/|:|\?[!-~]*)?$/i.test(e)||!e?void 0:"Invalid link"}},367:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),s=r.n(a),c=r(16),o=r.n(c),i=(r(244),r(35)),u=r(51),l=r(39),j=r(38),b=(r(245),r(6)),d=r(30),p=r.p+"static/media/logos.eedacfe8.svg",f=r(405),O=r(412),g=r(413),h=r(65),m=r(414),x=r(77),v=r(409),w=r(206),I=r(411),A=r(190),C=r.n(A),y=Object(f.a)((function(e){return{userLogin:{marginRight:e.spacing(2)},loginWrapper:{display:"flex",alignItems:"center"}}})),U=function(e){var t=e.logout,r=e.login,s=y(),c=Object(a.useState)(null),o=Object(x.a)(c,2),i=o[0],u=o[1],l=function(){u(null)},j=Boolean(i);return Object(n.jsxs)("div",{className:s.loginWrapper,children:[Object(n.jsx)(h.a,{className:s.userLogin,variant:"subtitle1",children:r}),Object(n.jsx)(v.a,{onClick:function(e){u(e.currentTarget)},color:"inherit",children:Object(n.jsx)(C.a,{})}),Object(n.jsx)(w.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:j,onClose:l,children:Object(n.jsx)(I.a,{onClick:function(){l(),t()},children:"Logout"})})]})},S=Object(f.a)((function(e){return{root:{zIndex:e.zIndex.drawer+1,gridArea:"h"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,marginLeft:e.spacing(2)},loginWrapper:{display:"flex",alignItems:"center"},userLogin:{marginRight:e.spacing(2)}}})),P=function(e){var t=e.isLogin,r=e.login,a=e.logout,s=S();return Object(n.jsx)(O.a,{position:"fixed",className:s.root,children:Object(n.jsxs)(g.a,{children:[Object(n.jsx)("img",{alt:"logo",src:p}),Object(n.jsx)(h.a,{variant:"h6",className:s.title,children:"Social Network"}),Object(n.jsx)("div",{children:t?Object(n.jsx)(U,{logout:a,login:r}):Object(n.jsx)(m.a,{className:s.loginButton,to:"/login",component:d.b,color:"inherit",children:"Login"})})]})})},E=r(18),T=r(61),k=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).render=function(){return Object(n.jsx)(P,Object(b.a)({},e.props))},e}return r}(s.a.Component),D=Object(E.b)((function(e){return{userId:e.auth.userId,login:e.auth.login,isLogin:e.auth.isLogin}}),{logout:T.c})(k),R=r(185),B=r(184),L=r(34),N=r(25),M=r(20),F=function(e){return{isLogin:e.auth.isLogin}},W=function(e){return Object(E.b)(F)((function(t){return t.isLogin?Object(n.jsx)(e,Object(b.a)({},t)):Object(n.jsx)(M.a,{to:"/login"})}))},_=r(193),z=r.n(_),G=function(e){var t=e.id,r=e.user,a=e.message;return Object(n.jsx)("div",{className:z.a.item,children:Object(n.jsxs)(d.b,{to:"/messages/"+t,children:[Object(n.jsx)("span",{children:r}),Object(n.jsx)("span",{children:a})]})})},K=r(194),Q=r.n(K),H=function(e){var t=e.message;return Object(n.jsx)("div",{className:Q.a.item,children:t})},J=r(121),X=r.n(J),Z=function(e){return Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsx)(R.a,{placeholder:"Message",name:"message",type:"text",component:N.f,validate:[L.c]}),Object(n.jsx)("button",{type:"submit",children:"Send message"})]})};Z=Object(B.a)({form:"message"})(Z);var Y=W((function(e){var t=e.dialogs.map((function(e){return Object(n.jsx)(G,{id:e.id,user:e.user},e.id)})),r=e.messages.map((function(e){return Object(n.jsx)(H,{message:e.message},e.id)}));return Object(n.jsxs)("div",{className:X.a.content,children:[Object(n.jsx)("div",{className:X.a.dialogs,children:t}),Object(n.jsx)("div",{className:X.a.messages,children:r}),Object(n.jsx)(Z,{onSubmit:function(t){e.sendMessage(t.message)}})]})})),q=r(76),V="CREATE-MESSAGE",$="UPDATE-MESSAGE-TEXT",ee={dialogs:[{id:1,user:"Vladimir"},{id:2,user:"Anna"},{id:3,user:"Ivan"},{id:4,user:"Vladislav"},{id:5,user:"Yuriy"},{id:6,user:"Rustam"}],messages:[{id:1,message:"Hello"},{id:2,message:"How are you?"},{id:3,message:"Nice"},{id:4,message:"React - cool"}]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:var r={id:5,message:t.value};return Object(b.a)(Object(b.a)({},e),{},{messages:[].concat(Object(q.a)(e.messages),[r])});case $:return Object(b.a)(Object(b.a)({},e),{},{messageText:t.textMessage});default:return e}},re=r(15),ne=r(196),ae=Object(ne.a)((function(e){return e.messagesPage.dialogs}),(function(e){return e.filter((function(e){return e}))})),se=function(e){return e.messagesPage.messages},ce=function(e){return e.messagesPage.messageText},oe=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(n.jsx)(Y,Object(b.a)({},this.props))}}]),r}(s.a.Component),ie=Object(re.compose)(Object(E.b)((function(e){return{dialogs:ae(e),messages:se(e),messageText:ce(e)}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:V,value:e}}(t))},changeMessage:function(t){e(function(e){return{type:$,textMessage:e}}(t))}}})),W)(oe),ue=r(420),le=r(410),je=r(369),be=r(416),de=r(417),pe=r(197),fe=r.n(pe),Oe=r(198),ge=r.n(Oe),he=r(199),me=r.n(he),xe=r(200),ve=r.n(xe),we=r(201),Ie=r.n(we),Ae=Object(f.a)((function(e){return{drawer:{width:240,height:"100vh"},drawerPaper:{width:240,background:"#e8eaf6"},drawerContainer:{overflow:"auto"}}})),Ce=function(e){var t=Ae();return Object(n.jsxs)(ue.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper},children:[Object(n.jsx)(g.a,{}),Object(n.jsx)("div",{className:t.drawerContainer,children:Object(n.jsx)(le.a,{children:["profile","users","messages","music","settings"].map((function(e,t){return Object(n.jsxs)(je.a,{button:!0,to:"/".concat(e),component:d.b,children:[Object(n.jsx)(be.a,{children:"profile"===e&&Object(n.jsx)(fe.a,{})||"users"===e&&Object(n.jsx)(ge.a,{})||"messages"===e&&Object(n.jsx)(me.a,{})||"music"===e&&Object(n.jsx)(ve.a,{})||"settings"===e&&Object(n.jsx)(Ie.a,{})}),Object(n.jsx)(de.a,{primary:e[0].toUpperCase()+e.substring(1)})]},t)}))})})]})},ye=Object(E.b)((function(e){return{friends:e.sidebar.friends}}),null)(Ce),Ue=r(202),Se=r.n(Ue),Pe=function(e){return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:Se.a.ldsDualRing})})},Ee=r(64),Te=r(103),ke=r.n(Te),De="data:image/png;base64,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",Re=r(203),Be=r.n(Re),Le=function(e){var t=e.text,r=e.likeCounter,a=(e.photo,Object(Ee.a)(e,["text","likeCounter","photo"]));return Object(n.jsxs)("div",{className:ke.a.item,children:[Object(n.jsx)("img",{src:null!==a.userData.photos.small?a.userData.photos.small:De,alt:"avatar"}),Object(n.jsxs)("div",{className:ke.a.textWrapper,children:[Object(n.jsx)(h.a,{variant:"subtitle1",color:"primary",children:a.userData.fullName}),Object(n.jsx)(h.a,{variant:"body1",children:t}),Object(n.jsx)("div",{className:ke.a.buttonWrapper,children:Object(n.jsxs)(v.a,{color:"primary",children:[Object(n.jsx)(Be.a,{fontSize:"small"}),Object(n.jsx)(h.a,{className:ke.a.buttonText,variant:"caption",children:r})]})})]})]})},Ne=r(104),Me=r.n(Ne),Fe=function(e){return Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsx)(R.a,{placeholder:"Post",name:"post",type:"text",component:N.f}),Object(n.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",children:"Add post"})]})};Fe=Object(B.a)({form:"post"})(Fe);var We=s.a.memo((function(e){var t=e.posts.map((function(t){return Object(n.jsx)(Le,{userData:e.userData,likeCounter:t.likeCounter,text:t.text},t.id)}));return Object(n.jsxs)("div",{className:Me.a.postsRoot,children:[Object(n.jsx)(h.a,{variant:"h5",className:Me.a.postsTitle,children:"Posts"}),Object(n.jsx)("div",{className:Me.a.addPostWrapper,children:Object(n.jsx)(Fe,{onSubmit:function(t){e.createPost(t.post)}})}),Object(n.jsx)("div",{className:Me.a.postsWrapper,children:t})]})})),_e=r(14),ze=r.n(_e),Ge=r(27),Ke=r(28),Qe="CREATE-POST",He="CHANGE_USER_DATA",Je="CHANGE_STATUS",Xe="SET_TOGGLE",Ze="REFRESH_AVATAR_SUCCESS",Ye="SHOW_ERROR_MESSAGE",qe="UPDATE_STATUS_REJECT",Ve="SET_TOGGLE_STATUS",$e=function(e){return{type:Qe,post:e}},et=function(e){return{type:Je,status:e}},tt=function(e){return{type:Ye,message:e}},rt=function(e){return{type:Xe,boolean:e}},nt=function(e){return{type:Ve,isToggle:e}},at=function(e){return{type:qe,withError:e}},st=function(e){return function(){var t=Object(Ge.a)(ze.a.mark((function t(r){var n;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(rt(!0)),t.next=3,Ke.b.getProfile(e);case 3:n=t.sent,r({type:He,userData:n}),r(rt(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ct={posts:[{id:0,text:"\u041e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u0432\u044b\u0434\u0430\u043b\u0441\u044f \u0434\u0435\u043d\u0435\u043a!",likeCounter:"138"},{id:1,text:"\u041e\u0447\u0435\u0440\u0435\u0434\u043d\u0430\u044f \u043f\u043e\u0431\u0435\u0434\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f!",likeCounter:"83"},{id:2,text:"React - \u043e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442",likeCounter:"999"}],userData:null,userStatus:"",isToggle:!1,errorMessage:"",isToggleStatus:!1,statusUpdateError:!1},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:var r={id:5,text:t.post,likeCounter:0};return Object(b.a)(Object(b.a)({},e),{},{posts:[].concat(Object(q.a)(e.posts),[r])});case He:return Object(b.a)(Object(b.a)({},e),{},{userData:t.userData});case Je:return Object(b.a)(Object(b.a)({},e),{},{userStatus:t.status});case Xe:return Object(b.a)(Object(b.a)({},e),{},{isToggle:t.boolean});case Ze:return Object(b.a)(Object(b.a)({},e),{},{userData:Object(b.a)(Object(b.a)({},e.userData),{},{photos:t.photos})});case Ye:return Object(b.a)(Object(b.a)({},e),{},{errorMessage:t.message});case qe:return Object(b.a)(Object(b.a)({},e),{},{statusUpdateError:t.withError});case Ve:return Object(b.a)(Object(b.a)({},e),{},{isToggleStatus:t.isToggle});default:return e}},it=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(n.jsx)(We,Object(b.a)({},this.props))}}]),r}(s.a.Component),ut=Object(E.b)((function(e){return{posts:e.profilePage.posts,userData:e.profilePage.userData}}),(function(e){return{createPost:function(t){e($e(t))}}}))(it),lt=r(415),jt=function(e){var t=Object(a.useState)(!1),r=Object(x.a)(t,2),s=r[0],c=r[1],o=Object(a.useState)(e.status),i=Object(x.a)(o,2),u=i[0],l=i[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]),Object(a.useEffect)((function(){e.getStatus(e.userId||e.mainId)}),[e.userId,e.mainId]);return e.isToggleStatus?Object(n.jsx)(Pe,{}):Object(n.jsxs)(n.Fragment,{children:[s?Object(n.jsx)(lt.a,{autoFocus:!0,value:u,onChange:function(e){l(e.currentTarget.value)},onBlur:function(){e.setStatus(u),c(!1)},type:"text"}):Object(n.jsx)(h.a,{variant:"body2",onClick:e.userId?null:function(){c(!0)},children:e.status||"------"}),e.statusUpdateError&&Object(n.jsx)("div",{children:"Oops! Status wasn't update, something went wrong!"})]})};Object(re.compose)(M.f)(jt);var bt=jt,dt=r(47),pt=r.n(dt),ft=r(141),Ot=r.n(ft),gt=r(183),ht=function(e){var t=Object(a.useState)(!1),r=Object(x.a)(t,2),s=r[0],c=r[1];return Object(n.jsxs)("div",{className:pt.a.contentInfo,children:[s?Object(n.jsx)(mt,{errorMessage:e.errorMessage,initialValues:e.userData,onSubmit:function(t){e.sendUserInfo(t)}}):Object(n.jsxs)("div",{children:[Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"About me:"})," ",e.userData.aboutMe]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"Facebook:"})," ",e.userData.contacts.facebook?e.userData.contacts.facebook:"-"]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"Website:"})," ",e.userData.contacts.website?e.userData.contacts.website:"-"]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"VK:"})," ",e.userData.contacts.vk?e.userData.contacts.vk:"-"]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"Twitter:"})," ",e.userData.contacts.twitter?e.userData.contacts.twitter:"-"]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"Instagram:"})," ",e.userData.contacts.instagram?e.userData.contacts.instagram:"-"]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"Youtube:"})," ",e.userData.contacts.youtube?e.userData.contacts.youtube:"-"]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"GitHub:"})," ",e.userData.contacts.github?e.userData.contacts.github:"-"]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"Link:"})," ",e.userData.contacts.mainLink?e.userData.contacts.mainLink:"-"]})]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"Open to work:"})," ",e.userData.lookingForAJob?"Yes":"No"]}),Object(n.jsxs)(h.a,{variant:"body1",children:[Object(n.jsx)("b",{children:"About my work expirience:"})," ",e.userData.lookingForAJobDescription]}),e.errorMessage&&Object(n.jsx)("div",{className:Ot.a.error,children:e.errorMessage})]}),e.userId||s?null:Object(n.jsx)(m.a,{variant:"outlined",color:"primary",onClick:function(){c(!0)},children:"Edit profile info"})]})},mt=function(e){return Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"fullName",label:"Full Name",validate:[L.c],component:N.a})}),Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"lookingForAJob",type:"checkbox",label:"Looking for a job?",component:N.e})}),Object(n.jsxs)("div",{className:pt.a.textareaWrapper,children:[Object(n.jsx)("label",{className:pt.a.textareaTitle,htmlFor:"lookingForAJobDescription",children:"About my work expirience: "}),Object(n.jsx)(R.a,{name:"lookingForAJobDescription",type:"text",component:N.f})]}),Object(n.jsxs)("div",{className:pt.a.textareaWrapper,children:[Object(n.jsx)("label",{className:pt.a.textareaTitle,htmlFor:"aboutMe",children:"About me:"}),Object(n.jsx)(R.a,{name:"aboutMe",type:"text",validate:[L.c],component:N.f})]}),Object(n.jsxs)(gt.a,{name:"contacts",children:[Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"facebook",label:"Facebook",validate:[L.b],component:N.a})}),Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"website",label:"Website",validate:[L.b],component:N.a})}),Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"vk",label:"VK",validate:[L.b],component:N.a})}),Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"twitter",label:"Twitter",validate:[L.b],component:N.a})}),Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"instagram",label:"Instagram",validate:[L.b],component:N.a})}),Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"youtube",label:"Youtube",validate:[L.b],component:N.a})}),Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"github",label:"GitHub",validate:[L.b],component:N.a})}),Object(n.jsx)("div",{children:Object(n.jsx)(R.a,{name:"mainLink",label:"Link",validate:[L.b],component:N.a})})]}),e.errorMessage&&Object(n.jsx)("div",{className:Ot.a.error,children:e.errorMessage}),Object(n.jsx)(m.a,{className:pt.a.formButton,variant:"contained",color:"primary",type:"submit",children:"Submit"})]})};mt=Object(B.a)({form:"profile-edit-form"})(mt);var xt=function(e){return Object(n.jsxs)("div",{className:pt.a.infoBlock,children:[Object(n.jsxs)("div",{className:pt.a.imageWrapper,children:[Object(n.jsx)("img",{alt:"avatar",src:null!==e.userData.photos.large?e.userData.photos.large:De}),e.userId?null:Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{accept:"image/*",className:pt.a.statusInput,id:"contained-button-file",multiple:!0,type:"file",onChange:function(t){e.refreshAvatar(t.target.files[0])}}),Object(n.jsx)("label",{htmlFor:"contained-button-file",children:Object(n.jsx)(m.a,{variant:"contained",color:"primary",component:"span",children:"Change Photo"})})]})]}),Object(n.jsxs)("div",{className:pt.a.mainContentWrapper,children:[Object(n.jsx)(h.a,{variant:"h6",children:e.userData.fullName}),Object(n.jsx)(bt,{setStatus:e.setStatus,getStatus:e.getStatus,status:e.status,mainId:e.mainId,userId:e.userId,statusUpdateError:e.statusUpdateError,isToggleStatus:e.isToggleStatus}),Object(n.jsx)(ht,Object(b.a)({},e))]})]})},vt=function(e){return e.userData?Object(n.jsxs)(n.Fragment,{children:[e.isToggle?Object(n.jsx)(Pe,{}):Object(n.jsx)(xt,{errorMessage:e.errorMessage,sendUserInfo:e.sendUserInfo,setStatus:e.setStatus,getStatus:e.getStatus,status:e.status,userId:e.match.params.userId,mainId:e.mainId,userData:e.userData,refreshAvatar:e.refreshAvatar,statusUpdateError:e.statusUpdateError,isToggleStatus:e.isToggleStatus}),Object(n.jsx)(ut,{})]}):Object(n.jsx)(Pe,{})},wt=function(e){return e.profilePage.posts},It=function(e){return e.profilePage.userData},At=function(e){return e.profilePage.userStatus},Ct=function(e){return e.auth.userId},yt=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.mainId),this.props.getProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(n.jsx)(vt,Object(b.a)({},this.props))}}]),r}(s.a.Component),Ut=Object(re.compose)(Object(E.b)((function(e){return{posts:wt(e),userData:It(e),status:At(e),isToggle:e.profilePage.isToggle,errorMessage:e.profilePage.errorMessage,mainId:Ct(e),statusUpdateError:e.profilePage.statusUpdateError,isToggleStatus:e.profilePage.isToggleStatus}}),{createPost:$e,setUserAuth:T.d,getProfile:st,getStatus:function(e){return function(){var t=Object(Ge.a)(ze.a.mark((function t(r){var n;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(nt(!0)),t.next=4,Ke.b.getUserStatus(e);case 4:n=t.sent,r(et(n)),r(nt(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r(at(!0)),r(nt(!1));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setStatus:function(e){return function(){var t=Object(Ge.a)(ze.a.mark((function t(r){return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(nt(!0)),t.next=4,Ke.b.setUserStatus(e);case 4:0===t.sent.resultCode&&(r(et(e)),r(at(!1)),r(nt(!1))),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),r(at(!0)),r(nt(!1));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},refreshAvatar:function(e){return function(){var t=Object(Ge.a)(ze.a.mark((function t(r){var n;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(rt(!0)),t.next=3,Ke.b.sendImage(e);case 3:0===(n=t.sent).resultCode&&r((a=n.data.photos,{type:Ze,photos:a})),r(rt(!1));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},sendUserInfo:function(e){return function(){var t=Object(Ge.a)(ze.a.mark((function t(r,n){var a,s;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n().auth.userId,r(rt(!0)),t.next=4,Ke.b.setUserData(e);case 4:0===(s=t.sent).resultCode?(r(tt(null)),r(st(a))):r(tt(s.messages[0])),r(rt(!1));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}}),M.f,W)(yt),St=function(){return Object(n.jsx)("div",{children:"Music"})},Pt=function(){return Object(n.jsx)(n.Fragment,{children:"Settings"})},Et=r(90),Tt=r.n(Et),kt=function(e){var t=e.user,r=e.followingInProgress,a=e.unfollowUser,s=e.followUser;return Object(n.jsxs)("div",{className:Tt.a.card,children:[Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{to:"/profile/"+t.id,children:Object(n.jsx)("img",{src:null!=t.photos.small?t.photos.small:De,alt:"img"})})}),Object(n.jsx)(h.a,{variant:"h6",children:t.name}),Object(n.jsx)("div",{children:t.followed?Object(n.jsx)(m.a,{variant:"contained",color:"primary",disabled:r.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(n.jsx)(m.a,{variant:"outlined",color:"primary",disabled:r.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"Follow"})})]})},Dt=r(418),Rt=function(e){return Object(n.jsxs)("div",{className:Tt.a.usersContent,children:[Object(n.jsx)(h.a,{variant:"h4",children:"Users list"}),e.isFetching?Object(n.jsx)(Pe,{}):Object(n.jsx)("div",{className:Tt.a.itemsList,children:e.users.map((function(t){return Object(n.jsx)(kt,Object(b.a)({user:t},e),t.id)}))}),Object(n.jsx)(Dt.a,{className:Tt.a.pagination,onChange:function(t,r){e.onChanged(r)},page:e.currentPage,count:Math.ceil(e.usersCount/e.pageSize)})]})},Bt="FOLLOW_USER",Lt="UNFOLLOW_USER",Nt="SET_USERS",Mt="SET_CURRENT_PAGE",Ft="SET_USERS_COUNT",Wt="SET_FETCHING",_t="TOGGLE_BUTTON_CLICK",zt=function(e){return{type:Bt,userId:e}},Gt=function(e){return{type:Lt,userId:e}},Kt=function(e){return{type:Nt,users:e}},Qt=function(e){return{type:Mt,currentPage:e}},Ht=function(e){return{type:Wt,isFetching:e}},Jt=function(e,t){return{type:_t,userId:e,isFetching:t}},Xt=function(){var e=Object(Ge.a)(ze.a.mark((function e(t,r,n,a){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(Jt(n,!0)),e.next=3,t(n);case 3:0===e.sent.resultCode&&a(r(n)),a(Jt(n,!1));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),Zt={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Object(b.a)(Object(b.a)({},e),{},{users:Object(q.a)(t.users)});case Bt:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(b.a)(Object(b.a)({},e),{},{followed:!0}):e}))});case Lt:return Object(b.a)(Object(b.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(b.a)(Object(b.a)({},e),{},{followed:!1}):e}))});case Mt:return Object(b.a)(Object(b.a)({},e),{},{currentPage:t.currentPage});case Ft:return Object(b.a)(Object(b.a)({},e),{},{totalUsersCount:t.usersCount});case Wt:return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case _t:return Object(b.a)(Object(b.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(q.a)(e.followingInProgress),[t.userId]):[e.followingInProgress.filter((function(e){return e!==t.userId}))]});default:return e}},qt=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).onChanged=function(t){e.props.setPage(t,e.props.pageSize)},e.onClickFollow=function(t){e.props.followUser(t)},e.onClickUnfollow=function(t){e.props.unfollowUser(t)},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Rt,{usersCount:this.props.usersCount,pageSize:this.props.pageSize,onChanged:this.onChanged,currentPage:this.props.currentPage,unfollowUser:this.onClickUnfollow,followUser:this.onClickFollow,users:this.props.users,followingInProgress:this.props.followingInProgress,isFetching:this.props.isFetching})})}}]),r}(s.a.Component),Vt=Object(re.compose)(Object(E.b)((function(e){return{users:e.usersPage.users,usersCount:e.usersPage.totalUsersCount,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}}),{followUser:function(e){return function(){var t=Object(Ge.a)(ze.a.mark((function t(r){var n;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Ke.d.followUser,Xt(n,zt,e,r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowUser:function(e){return function(){var t=Object(Ge.a)(ze.a.mark((function t(r){var n;return ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Ke.d.unfollowUser,Xt(n,Gt,e,r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setPage:function(e,t){return function(){var r=Object(Ge.a)(ze.a.mark((function r(n){var a;return ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(Ht(!0)),n(Qt(e)),r.next=4,Ke.d.getUsers(e,t);case 4:a=r.sent,n(Kt(a.items)),n(Ht(!1));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},getUsers:function(e,t){return function(){var r=Object(Ge.a)(ze.a.mark((function r(n){var a;return ze.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(Ht(!0)),r.next=3,Ke.d.getUsers(e,t);case 3:a=r.sent,n(Ht(!1)),n(Kt(a.items)),n((s=a.totalCount,{type:Ft,usersCount:s}));case 7:case"end":return r.stop()}var s}),r)})));return function(e){return r.apply(this,arguments)}}()}}),W)(qt),$t="SET_INITIALIZED",er="GLOBAL_PROMISE_ERROR",tr={initialized:!1,globalPromiseError:null},rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $t:return Object(b.a)(Object(b.a)({},e),{},{initialized:!0});case er:return Object(b.a)(Object(b.a)({},e),{},{globalPromiseError:t.reason});default:return e}},nr=s.a.lazy((function(){return r.e(4).then(r.bind(null,422))})),ar=s.a.lazy((function(){return r.e(3).then(r.bind(null,423))})),sr=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).catchAllPromisesWithError=function(t){e.props.showError(t.reason.message),setTimeout((function(){return e.props.showError(null)}),2e3)},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("unhandledrejection",this.catchAllPromisesWithError),this.props.initializeApp()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllPromisesWithError)}},{key:"render",value:function(){return this.props.isInitialized?Object(n.jsx)(d.a,{children:Object(n.jsxs)("div",{className:"app-wrapper",children:[Object(n.jsx)(D,{className:"app-header"}),Object(n.jsx)(ye,{}),this.props.globalPromiseError?Object(n.jsx)("div",{children:this.props.globalPromiseError}):Object(n.jsxs)("main",{className:"app-wrapper-content",children:[Object(n.jsx)(M.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(Ut,{})}}),Object(n.jsx)(M.b,{path:"/profile/:userId?",render:function(){return Object(n.jsx)(Ut,{})}}),Object(n.jsx)(M.b,{path:"/messages",render:function(){return Object(n.jsx)(ie,{})}}),Object(n.jsx)(M.b,{path:"/users",render:function(){return Object(n.jsx)(Vt,{})}}),Object(n.jsx)(M.b,{path:"/news",render:function(){return Object(n.jsx)(a.Suspense,{fallback:Object(n.jsx)(Pe,{}),children:Object(n.jsx)(nr,{})})}}),Object(n.jsx)(M.b,{path:"/music",render:function(){return Object(n.jsx)(St,{})}}),Object(n.jsx)(M.b,{path:"/settings",render:function(){return Object(n.jsx)(Pt,{})}}),Object(n.jsx)(M.b,{path:"/login",render:function(){return Object(n.jsx)(a.Suspense,{fallback:Object(n.jsx)(Pe,{}),children:Object(n.jsx)(ar,{})})}})]})]})}):Object(n.jsx)(Pe,{})}}]),r}(s.a.Component),cr=Object(E.b)((function(e){return{isInitialized:e.app.initialized,globalPromiseError:e.app.globalPromiseError}}),{initializeApp:function(){return function(e){var t=e(Object(T.d)());Promise.all([t]).then((function(){e({type:$t})}))}},showError:function(e){return{type:er,reason:e}}})(sr),or=function(e){e&&e instanceof Function&&r.e(5).then(r.bind(null,424)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))},ir={friends:[{id:1,friend:"Vladimir Nikev"},{id:2,friend:"Anna Zakharchuk"},{id:3,friend:"Ivan Kiskin"},{id:4,friend:"Vladislav Gatsenko"},{id:5,friend:"Rustam Abduloev"}]},ur=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,t=Object(b.a)({},e);return t},lr=r(204),jr=r(186),br=r(205),dr=Object(re.combineReducers)({profilePage:ot,messagesPage:te,sidebar:ur,usersPage:Yt,auth:T.a,form:jr.a,app:rr}),pr=Object(re.createStore)(dr,Object(br.composeWithDevTools)(Object(re.applyMiddleware)(lr.a)));o.a.render(Object(n.jsx)(E.a,{store:pr,children:Object(n.jsx)(cr,{})}),document.getElementById("root")),or()},47:function(e,t,r){e.exports={infoBlock:"ProfileInfo_infoBlock__Yi3uO",imageWrapper:"ProfileInfo_imageWrapper__3ABDv",mainContentWrapper:"ProfileInfo_mainContentWrapper__3T-3y",contentInfo:"ProfileInfo_contentInfo__1vLUq",statusInput:"ProfileInfo_statusInput__1M6X0",textareaWrapper:"ProfileInfo_textareaWrapper__1-mcC",textareaTitle:"ProfileInfo_textareaTitle__1Wpuv",formButton:"ProfileInfo_formButton__1YdwU"}},61:function(e,t,r){"use strict";r.d(t,"d",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"c",(function(){return f}));var n=r(14),a=r.n(n),s=r(27),c=r(6),o=r(79),i=r(28),u="SET_USER_DATA_AUTH",l="GET_CAPTCHA_SUCCESS",j={userId:null,login:null,email:null,isLogin:!1,captchaUrl:null},b=function(e,t,r,n){return{type:u,data:{userId:e,login:t,email:r,isLogin:n}}},d=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var r,n,s,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.authUser();case 2:0===(r=e.sent).resultCode&&(n=r.data,s=n.id,c=n.login,o=n.email,t(b(s,c,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t,r,n){return function(){var c=Object(s.a)(a.a.mark((function s(c){var u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.loginUser(e,t,r,n);case 2:0===(u=a.sent).resultCode?c(d()):(10===u.resultCode&&c(O()),c(Object(o.a)("login",{_error:u.messages[0]})));case 4:case"end":return a.stop()}}),s)})));return function(e){return c.apply(this,arguments)}}()},f=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logoutUser();case 2:0===e.sent.resultCode&&(console.log("LOGOUT"),t(b(null,null,null,!1)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(){return function(){var e=Object(s.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.c.getCaptcha();case 2:r=e.sent,t((n=r.url,{type:l,url:n}));case 4:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(c.a)(Object(c.a)({},e),t.data);case l:return Object(c.a)(Object(c.a)({},e),{},{captchaUrl:t.url});default:return e}}},90:function(e,t,r){e.exports={usersContent:"Users_usersContent__1BZL2",pagination:"Users_pagination__2Njh9",itemsList:"Users_itemsList__1s5Y0",card:"Users_card__1fTSP",cardWrapper:"Users_cardWrapper__1K1ho"}}},[[367,1,2]]]);
//# sourceMappingURL=main.5aa1c032.chunk.js.map